{"ast":null,"code":"import _slicedToArray from \"/Applications/html/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/html/react-test/src/pages/FilmList.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// import React from \"react\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/api\"; // function FilmList() {\n//   const [films, setFilms] = React.useState([]);\n//   const [recentBookmark, setRecentBookmark] = React.useState([]);\n//   async function getfilms() {\n//     // try {\n//     //   const response = await fetch(`${API.films}`);\n//     //   if (!response.ok) {\n//     //     throw new Error(response.text);\n//     //   }\n//     //   const json = await response.json();\n//     //   setFilms(json.results);\n//     // } catch (err) {\n//     //   console.error(err);\n//     // }\n//     console.log(API.films,'ppps')\n//   }\n//   const getRecentBookmark = async () => {\n//     let bookMarked = await localStorage.getItem(\"filmId\");\n//     let splitBookmark = bookMarked ? bookMarked.split(\",\") : [];\n//     try {\n//       const promises = splitBookmark\n//         .slice(-3)\n//         .map((id) =>\n//           fetch(`${API.films}/${item}`).then((response) => response.json())\n//         );\n//       const recentBookmark = await Promise.all(promises);\n//       setRecentBookmark(recentBookmark.reverse());\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n//   React.useEffect(() => {\n//     getfilms();\n//     getRecentBookmark();\n//   }, []);\n//   // if (films.length === 0 && recentBookmark.length === 0 ) {\n//   //   return <div className=\"loader\"></div>\n//   // }\n//   return (\n//     <div className=\"card\">\n//       <div className=\"card-body\">\n//         <div className=\"card mb-3\">\n//           <div className=\"card-body\">\n//             <h5 className=\"card-title mb-2\">\n//               <span>&#9733;</span> Recent bookmark\n//             </h5>\n//             {recentBookmark.length === 0 ? (\n//               <p>Bookmark is empty</p>\n//             ) : (\n//               recentBookmark.map((item, index) => (\n//                 <div className=\"ml-4 mb-1\" key={index}>\n//                   &bull;&nbsp; <Link className=\"mb-1\" to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{`${item.title}`}</Link>\n//                 </div>\n//               ))\n//             )}\n//           </div>\n//         </div>\n//         <ul className=\"list-group\">\n//           {films.map((item, index) => (\n//             <li className=\"list-group-item\" key={index}>\n//               <Link to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{item.title}</Link>\n//             </li>\n//           ))}\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// }\n// export default FilmList;\n\nvar LoadingText = function LoadingText() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  var fetchData = function fetchData() {\n    setIsLoading(true);\n    fetch(\"https://pokeapi.co/api/v2/\").then(function (response) {\n      return response.json();\n      console.log(response, '<<');\n    }).then(function (data) {\n      setIsLoading(false);\n      setUsers(data);\n    });\n  };\n\n  useEffect(function () {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, \"Loading...\"), users.length > 0 && /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, users.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: user.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, user.name);\n  })));\n};\n\n_s(LoadingText, \"xvHpp/wcvLkKOA8HViH0oD4d0pM=\");\n\n_c = LoadingText;\nexport default LoadingText;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoadingText\");","map":{"version":3,"sources":["/Applications/html/react-test/src/pages/FilmList.js"],"names":["React","useEffect","useState","Link","API","LoadingText","users","setUsers","isLoading","setIsLoading","fetchData","fetch","then","response","json","console","log","data","length","map","user","id","name"],"mappings":";;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,cAAhB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA;;AACxB,kBAA0BH,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOI,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAkCL,QAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAOM,SAAP;AAAA,MAAkBC,YAAlB;;AAEA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBD,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,KAAK,CAAC,4BAAD,CAAL,CACGC,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAAqB,IAArB;AACD,KAJH,EAKGD,IALH,CAKQ,UAAAK,IAAI,EAAI;AACZR,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,MAAAA,QAAQ,CAACU,IAAD,CAAR;AAED,KATH;AAUD,GAZD;;AAcAhB,EAAAA,SAAS,CAAC,YAAM;AACdS,IAAAA,SAAS;AACV,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,SAAS,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADhB,EAEGF,KAAK,CAACY,MAAN,GAAe,CAAf,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,KAAK,CAACa,GAAN,CAAU,UAAAC,IAAI;AAAA,wBACb;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmBD,IAAI,CAACE,IAAxB,CADa;AAAA,GAAd,CADH,CAHJ,CADF;AAYD,CAlCD;;GAAMjB,W;;KAAAA,W;AAoCN,eAAeA,WAAf","sourcesContent":["// import React from \"react\";\nimport React, { useEffect, useState } from \"react\"\n\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/api\";\n\n// function FilmList() {\n//   const [films, setFilms] = React.useState([]);\n//   const [recentBookmark, setRecentBookmark] = React.useState([]);\n\n//   async function getfilms() {\n//     // try {\n//     //   const response = await fetch(`${API.films}`);\n//     //   if (!response.ok) {\n//     //     throw new Error(response.text);\n//     //   }\n//     //   const json = await response.json();\n//     //   setFilms(json.results);\n//     // } catch (err) {\n//     //   console.error(err);\n//     // }\n//     console.log(API.films,'ppps')\n//   }\n\n//   const getRecentBookmark = async () => {\n//     let bookMarked = await localStorage.getItem(\"filmId\");\n//     let splitBookmark = bookMarked ? bookMarked.split(\",\") : [];\n//     try {\n//       const promises = splitBookmark\n//         .slice(-3)\n//         .map((id) =>\n//           fetch(`${API.films}/${item}`).then((response) => response.json())\n//         );\n//       const recentBookmark = await Promise.all(promises);\n//       setRecentBookmark(recentBookmark.reverse());\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   React.useEffect(() => {\n//     getfilms();\n//     getRecentBookmark();\n//   }, []);\n\n//   // if (films.length === 0 && recentBookmark.length === 0 ) {\n//   //   return <div className=\"loader\"></div>\n//   // }\n\n//   return (\n//     <div className=\"card\">\n//       <div className=\"card-body\">\n//         <div className=\"card mb-3\">\n//           <div className=\"card-body\">\n//             <h5 className=\"card-title mb-2\">\n//               <span>&#9733;</span> Recent bookmark\n//             </h5>\n//             {recentBookmark.length === 0 ? (\n//               <p>Bookmark is empty</p>\n//             ) : (\n//               recentBookmark.map((item, index) => (\n//                 <div className=\"ml-4 mb-1\" key={index}>\n//                   &bull;&nbsp; <Link className=\"mb-1\" to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{`${item.title}`}</Link>\n//                 </div>\n//               ))\n//             )}\n//           </div>\n//         </div>\n//         <ul className=\"list-group\">\n//           {films.map((item, index) => (\n//             <li className=\"list-group-item\" key={index}>\n//               <Link to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{item.title}</Link>\n//             </li>\n//           ))}\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default FilmList;\n\nconst LoadingText = () => {\n  const [users, setUsers] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n\n  const fetchData = () => {\n    setIsLoading(true)\n    fetch(\"https://pokeapi.co/api/v2/\")\n      .then(response => {\n        return response.json()\n        console.log(response,'<<')\n      })\n      .then(data => {\n        setIsLoading(false)\n        setUsers(data)\n        \n      })\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  return (\n    <div>\n      {isLoading && <p>Loading...</p>}\n      {users.length > 0 && (\n        <ul>\n          {users.map(user => (\n            <li key={user.id}>{user.name}</li>\n          ))}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default LoadingText"]},"metadata":{},"sourceType":"module"}