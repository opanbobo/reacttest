{"ast":null,"code":"import _asyncToGenerator from \"/Applications/html/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Applications/html/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/html/react-test/src/pages/FilmList.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Applications/html/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/api\"; // function FilmList() {\n//   const [films, setFilms] = React.useState([]);\n//   const [recentBookmark, setRecentBookmark] = React.useState([]);\n//   async function getfilms() {\n//     // try {\n//     //   const response = await fetch(`${API.films}`);\n//     //   if (!response.ok) {\n//     //     throw new Error(response.text);\n//     //   }\n//     //   const json = await response.json();\n//     //   setFilms(json.results);\n//     // } catch (err) {\n//     //   console.error(err);\n//     // }\n//     console.log(API.films,'ppps')\n//   }\n//   const getRecentBookmark = async () => {\n//     let bookMarked = await localStorage.getItem(\"filmId\");\n//     let splitBookmark = bookMarked ? bookMarked.split(\",\") : [];\n//     try {\n//       const promises = splitBookmark\n//         .slice(-3)\n//         .map((id) =>\n//           fetch(`${API.films}/${item}`).then((response) => response.json())\n//         );\n//       const recentBookmark = await Promise.all(promises);\n//       setRecentBookmark(recentBookmark.reverse());\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n//   React.useEffect(() => {\n//     getfilms();\n//     getRecentBookmark();\n//   }, []);\n//   // if (films.length === 0 && recentBookmark.length === 0 ) {\n//   //   return <div className=\"loader\"></div>\n//   // }\n//   return (\n//     <div className=\"card\">\n//       <div className=\"card-body\">\n//         <div className=\"card mb-3\">\n//           <div className=\"card-body\">\n//             <h5 className=\"card-title mb-2\">\n//               <span>&#9733;</span> Recent bookmark\n//             </h5>\n//             {recentBookmark.length === 0 ? (\n//               <p>Bookmark is empty</p>\n//             ) : (\n//               recentBookmark.map((item, index) => (\n//                 <div className=\"ml-4 mb-1\" key={index}>\n//                   &bull;&nbsp; <Link className=\"mb-1\" to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{`${item.title}`}</Link>\n//                 </div>\n//               ))\n//             )}\n//           </div>\n//         </div>\n//         <ul className=\"list-group\">\n//           {films.map((item, index) => (\n//             <li className=\"list-group-item\" key={index}>\n//               <Link to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{item.title}</Link>\n//             </li>\n//           ))}\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// }\n\nvar AsyncAwait = function AsyncAwait() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"https://pokeapi.co/api/v2/\");\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context.sent;\n              setUsers(data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, users.length > 0 && /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, users.map(function (user) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: user.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, user.name);\n  })));\n};\n\n_s(AsyncAwait, \"JadZszbqna06PpJs9hMo7Hl/LOY=\");\n\n_c = AsyncAwait;\nexport default AsyncAwait; // export default FilmList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AsyncAwait\");","map":{"version":3,"sources":["/Applications/html/react-test/src/pages/FilmList.js"],"names":["React","Link","API","AsyncAwait","useState","users","setUsers","fetchData","fetch","response","json","data","useEffect","length","map","user","id","name"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,cAAhB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AACvB,kBAA0BC,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMC,SAAS;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACOC,KAAK,CAAC,4BAAD,CADZ;;AAAA;AACVC,cAAAA,QADU;AAAA;AAAA,qBAEGA,QAAQ,CAACC,IAAT,EAFH;;AAAA;AAEVC,cAAAA,IAFU;AAGhBL,cAAAA,QAAQ,CAACK,IAAD,CAAR;;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATJ,SAAS;AAAA;AAAA;AAAA,KAAf;;AAMAK,EAAAA,SAAS,CAAC,YAAM;AACdL,IAAAA,SAAS;AACV,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACQ,MAAN,GAAe,CAAf,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,KAAK,CAACS,GAAN,CAAU,UAAAC,IAAI;AAAA,wBACb;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmBD,IAAI,CAACE,IAAxB,CADa;AAAA,GAAd,CADH,CAFJ,CADF;AAWD,CAxBD;;GAAMd,U;;KAAAA,U;AA0BN,eAAeA,UAAf,C,CAEA","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/api\";\n\n// function FilmList() {\n//   const [films, setFilms] = React.useState([]);\n//   const [recentBookmark, setRecentBookmark] = React.useState([]);\n\n//   async function getfilms() {\n//     // try {\n//     //   const response = await fetch(`${API.films}`);\n//     //   if (!response.ok) {\n//     //     throw new Error(response.text);\n//     //   }\n//     //   const json = await response.json();\n//     //   setFilms(json.results);\n//     // } catch (err) {\n//     //   console.error(err);\n//     // }\n//     console.log(API.films,'ppps')\n//   }\n\n//   const getRecentBookmark = async () => {\n//     let bookMarked = await localStorage.getItem(\"filmId\");\n//     let splitBookmark = bookMarked ? bookMarked.split(\",\") : [];\n//     try {\n//       const promises = splitBookmark\n//         .slice(-3)\n//         .map((id) =>\n//           fetch(`${API.films}/${item}`).then((response) => response.json())\n//         );\n//       const recentBookmark = await Promise.all(promises);\n//       setRecentBookmark(recentBookmark.reverse());\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   React.useEffect(() => {\n//     getfilms();\n//     getRecentBookmark();\n//   }, []);\n\n//   // if (films.length === 0 && recentBookmark.length === 0 ) {\n//   //   return <div className=\"loader\"></div>\n//   // }\n\n//   return (\n//     <div className=\"card\">\n//       <div className=\"card-body\">\n//         <div className=\"card mb-3\">\n//           <div className=\"card-body\">\n//             <h5 className=\"card-title mb-2\">\n//               <span>&#9733;</span> Recent bookmark\n//             </h5>\n//             {recentBookmark.length === 0 ? (\n//               <p>Bookmark is empty</p>\n//             ) : (\n//               recentBookmark.map((item, index) => (\n//                 <div className=\"ml-4 mb-1\" key={index}>\n//                   &bull;&nbsp; <Link className=\"mb-1\" to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{`${item.title}`}</Link>\n//                 </div>\n//               ))\n//             )}\n//           </div>\n//         </div>\n//         <ul className=\"list-group\">\n//           {films.map((item, index) => (\n//             <li className=\"list-group-item\" key={index}>\n//               <Link to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{item.title}</Link>\n//             </li>\n//           ))}\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// }\n\nconst AsyncAwait = () => {\n  const [users, setUsers] = useState([])\n\n  const fetchData = async () => {\n    const response = await fetch(\"https://pokeapi.co/api/v2/\")\n    const data = await response.json()\n    setUsers(data)\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  return (\n    <div>\n      {users.length > 0 && (\n        <ul>\n          {users.map(user => (\n            <li key={user.id}>{user.name}</li>\n          ))}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default AsyncAwait\n\n// export default FilmList;\n"]},"metadata":{},"sourceType":"module"}