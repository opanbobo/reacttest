{"ast":null,"code":"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/api\"; // function FilmList() {\n//   const [films, setFilms] = React.useState([]);\n//   const [recentBookmark, setRecentBookmark] = React.useState([]);\n//   async function getfilms() {\n//     // try {\n//     //   const response = await fetch(`${API.films}`);\n//     //   if (!response.ok) {\n//     //     throw new Error(response.text);\n//     //   }\n//     //   const json = await response.json();\n//     //   setFilms(json.results);\n//     // } catch (err) {\n//     //   console.error(err);\n//     // }\n//     console.log(API.films,'ppps')\n//   }\n//   const getRecentBookmark = async () => {\n//     let bookMarked = await localStorage.getItem(\"filmId\");\n//     let splitBookmark = bookMarked ? bookMarked.split(\",\") : [];\n//     try {\n//       const promises = splitBookmark\n//         .slice(-3)\n//         .map((id) =>\n//           fetch(`${API.films}/${item}`).then((response) => response.json())\n//         );\n//       const recentBookmark = await Promise.all(promises);\n//       setRecentBookmark(recentBookmark.reverse());\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n//   React.useEffect(() => {\n//     getfilms();\n//     getRecentBookmark();\n//   }, []);\n//   // if (films.length === 0 && recentBookmark.length === 0 ) {\n//   //   return <div className=\"loader\"></div>\n//   // }\n//   return (\n//     <div className=\"card\">\n//       <div className=\"card-body\">\n//         <div className=\"card mb-3\">\n//           <div className=\"card-body\">\n//             <h5 className=\"card-title mb-2\">\n//               <span>&#9733;</span> Recent bookmark\n//             </h5>\n//             {recentBookmark.length === 0 ? (\n//               <p>Bookmark is empty</p>\n//             ) : (\n//               recentBookmark.map((item, index) => (\n//                 <div className=\"ml-4 mb-1\" key={index}>\n//                   &bull;&nbsp; <Link className=\"mb-1\" to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{`${item.title}`}</Link>\n//                 </div>\n//               ))\n//             )}\n//           </div>\n//         </div>\n//         <ul className=\"list-group\">\n//           {films.map((item, index) => (\n//             <li className=\"list-group-item\" key={index}>\n//               <Link to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{item.title}</Link>\n//             </li>\n//           ))}\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// }\n\nexport default FilmList;","map":{"version":3,"sources":["/Applications/html/react-test/src/pages/FilmList.js"],"names":["React","Link","API","FilmList"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,cAAhB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,QAAf","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport API from \"../utils/api\";\n\n// function FilmList() {\n//   const [films, setFilms] = React.useState([]);\n//   const [recentBookmark, setRecentBookmark] = React.useState([]);\n\n//   async function getfilms() {\n//     // try {\n//     //   const response = await fetch(`${API.films}`);\n//     //   if (!response.ok) {\n//     //     throw new Error(response.text);\n//     //   }\n//     //   const json = await response.json();\n//     //   setFilms(json.results);\n//     // } catch (err) {\n//     //   console.error(err);\n//     // }\n//     console.log(API.films,'ppps')\n//   }\n\n//   const getRecentBookmark = async () => {\n//     let bookMarked = await localStorage.getItem(\"filmId\");\n//     let splitBookmark = bookMarked ? bookMarked.split(\",\") : [];\n//     try {\n//       const promises = splitBookmark\n//         .slice(-3)\n//         .map((id) =>\n//           fetch(`${API.films}/${item}`).then((response) => response.json())\n//         );\n//       const recentBookmark = await Promise.all(promises);\n//       setRecentBookmark(recentBookmark.reverse());\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   };\n\n//   React.useEffect(() => {\n//     getfilms();\n//     getRecentBookmark();\n//   }, []);\n\n//   // if (films.length === 0 && recentBookmark.length === 0 ) {\n//   //   return <div className=\"loader\"></div>\n//   // }\n\n//   return (\n//     <div className=\"card\">\n//       <div className=\"card-body\">\n//         <div className=\"card mb-3\">\n//           <div className=\"card-body\">\n//             <h5 className=\"card-title mb-2\">\n//               <span>&#9733;</span> Recent bookmark\n//             </h5>\n//             {recentBookmark.length === 0 ? (\n//               <p>Bookmark is empty</p>\n//             ) : (\n//               recentBookmark.map((item, index) => (\n//                 <div className=\"ml-4 mb-1\" key={index}>\n//                   &bull;&nbsp; <Link className=\"mb-1\" to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{`${item.title}`}</Link>\n//                 </div>\n//               ))\n//             )}\n//           </div>\n//         </div>\n//         <ul className=\"list-group\">\n//           {films.map((item, index) => (\n//             <li className=\"list-group-item\" key={index}>\n//               <Link to={`/ability/${item.url.split('/').slice(-2)[0]}`}>{item.title}</Link>\n//             </li>\n//           ))}\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// }\n\nexport default FilmList;\n"]},"metadata":{},"sourceType":"module"}